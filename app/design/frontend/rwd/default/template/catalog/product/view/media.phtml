<?php
/**
 * Magento
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Academic Free License (AFL 3.0)
 * that is bundled with this package in the file LICENSE_AFL.txt.
 * It is also available through the world-wide-web at this URL:
 * http://opensource.org/licenses/afl-3.0.php
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@magentocommerce.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade Magento to newer
 * versions in the future. If you wish to customize Magento for your
 * needs please refer to http://www.magentocommerce.com for more information.
 *
 * @category    design
 * @package     rwd_default
 * @copyright   Copyright (c) 2014 Magento Inc. (http://www.magentocommerce.com)
 * @license     http://opensource.org/licenses/afl-3.0.php  Academic Free License (AFL 3.0)
 */

/**
 * Product media data template
 *
 * @see Mage_Catalog_Block_Product_View_Media
 */

/* @var $this Mage_Catalog_Block_Product_View_Media */
?>
<?php
    $_product = $this->getProduct();
    $_helper = $this->helper('catalog/output');
?>
<div class="product-image product-image-zoom">
    <div id="video-popup">
                    <!--<a href="#" class="video-popup-close"></a>-->
                    <div class="inner-video"></div>
    
                </div>
    <div class="product-image-gallery">
        <div class="zoom-icon"></div>
        <!--<a id="ezlink"  href="<?php echo $this->helper('catalog/image')->init($_product, 'image') ?>">-->
        <img id="image-main"
             class="gallery-image visible"
             src="<?php echo $this->helper('catalog/image')->init($_product, 'image') ?>"
             alt="<?php echo $this->escapeHtml($this->getImageLabel()) ?>"
             title="<?php echo $this->escapeHtml($this->getImageLabel()); ?>" />
        <!--</a>-->
        <?php
            $i=0;
            foreach ($this->getGalleryImages() as $_image):
                $_imageUrl = $this->helper('catalog/image')
                                  ->init($_product, 'image', $_image->getFile())
                                  ->keepFrame(false)
                                  ->constrainOnly(true)
                                  ->resize(1200);
        ?>
            <img id="image-<?php echo $i; ?>"
                 class="gallery-image"
                 src="<?php echo $_imageUrl; ?>"
                 data-zoom-image="<?php echo  $_imageUrl; ?>" />
        <?php
            $i++;
            endforeach;
        ?>
    </div>
    
    <!----- new code for zoom popup---------->
    

    <!--------- new code for zoom popup---------->
</div>

<?php if (count($this->getGalleryImages()) > 0): ?>
<div class="more-views">
    <h2><?php echo $this->__('More Views') ?></h2>
    <ul class="product-image-thumbs">
    <?php $i=0;$video_img=''; foreach ($this->getGalleryImages() as $_image): ?>
        <?php
        $video_img = $this->helper('catalog/image')->init($this->getProduct(), 'thumbnail', $_image->getFile())->resize(75);
        if (($filterClass = $this->getGalleryFilterHelper()) && ($filterMethod = $this->getGalleryFilterMethod()) && !Mage::helper($filterClass)->$filterMethod($_product, $_image)):
            continue;
        endif;
        ?>
        <li>
            <a class="thumb-link" href="#" title="<?php echo $this->escapeHtml($_image->getLabel()) ?>" data-image-index="<?php echo $i; ?>">
                <img src="<?php echo $this->helper('catalog/image')->init($this->getProduct(), 'thumbnail', $_image->getFile())->resize(75); ?>"
                     width="75" height="75" alt="<?php echo $this->escapeHtml($_image->getLabel()) ?>" />
            </a>
        </li>
    <?php $i++; endforeach; ?>
         <?php if($_product->getVideo() && $_product->getVideo() != 'null'): ?>
        <li>
            <a class="thumb-link1" id="video-link" href="javascript:void(0)" title="<?php echo $_product->getVideo() ?>" data-image-index="<?php echo $i+1; ?>">
       
                            <!--<iframe width="560" height="315" src="http://www.youtube.com/embed/<?php echo $_product->getVideo() ?>" frameborder="0" allowfullscreen></iframe>-->
                           <img src="<?php echo Mage::getBaseUrl(Mage_Core_Model_Store::URL_TYPE_MEDIA); ?>/wysiwyg/home/video_play.png"
                     width="75" height="75" alt="" />
            </a>
        </li>    
        <?php endif; ?>
    </ul>
</div>
<?php endif; ?>

<?php echo $this->getChildHtml('after'); ?>
<!-----new popup zoom starts--------------->
<?php //print_r($this->getGalleryImages());exit; ?>
<div class="easy-zoom-container">
  <a href="#" class="easy-zoom-popup-close"></a>
		<!-- Introduction -->
		

		<!-- Example -->
		

			

			<!--<div class="owl-carousel" data-slider-id="1">-->
                   <?php //$i=0; foreach ($this->getGalleryImages() as $_image): ?>   
                              
<!--    <div class="item"><img 
                                    src="http://192.168.100.116/Storieshomes_meganto/media/catalog/product/cache/1/image/9df78eab33525d08d6e5fb8d27136e95/g/r/gra_copy_6.jpg"
                                    alt=""
                                    title="" class="easyzoom-sigleimg"/></div>
                                     <div class="item"><img 
                                    src="http://192.168.100.116/Storieshomes_meganto/media/catalog/product/cache/1/image/9df78eab33525d08d6e5fb8d27136e95/g/r/gra_copy_6.jpg"
                                    alt=""
                                    title="" class="easyzoom-sigleimg"/></div>
                                    <div class="item"><img 
                                    src="http://192.168.100.116/Storieshomes_meganto/media/catalog/product/cache/1/image/9df78eab33525d08d6e5fb8d27136e95/g/r/gra_copy_6.jpg"
                                    alt=""
                                    title="" class="easyzoom-sigleimg"/></div>-->
                                    
                                    
                             <?php //$i++; endforeach; ?>
<?php //$i=0; foreach ($this->getGalleryImages() as $_image): ?>
                                <?php
//                                $_zoom_imageUrl1 = $this->helper('catalog/image')
//                                  ->init($_product, 'image', $_image->getFile())
//                                  ->keepFrame(false)
//                                  ->constrainOnly(true)
//                                  ->resize(1200);
//                                 $temp_img_url1 = $this->helper('catalog/image')->init($_product, 'image',$_image->getFile());  
                                 //echo "missing--".$temp_img_url1."=====";
                                 // $temp_img_url = $this->helper('catalog/image')->init($this->getProduct(), 'thumbnail', $_image->getFile())->resize(75);
//                                if (($filterClass = $this->getGalleryFilterHelper()) && ($filterMethod = $this->getGalleryFilterMethod()) && !Mage::helper($filterClass)->$filterMethod($_product, $_image)):
//                                    continue;
//                                endif;
                                 
                                ?>
<!--			<div class="item easyzoom easyzoom--overlay easyzoom--with-thumbnails">

                                <a href="<?php echo $this->helper('catalog/image')->init($_product, 'image') ?>">
                                    <img 
                                    src="<?php echo $this->helper('catalog/image')->init($_product, 'image') ?>"
                                    alt="<?php echo $this->escapeHtml($this->getImageLabel()) ?>"
                                    title="<?php echo $this->escapeHtml($this->getImageLabel()); ?>" width="640" height="360"/>
                               
                                
                                </a>
                             <?php  
                            // $temp_img_url1 = $this->helper('catalog/image')->init($_product, 'image',$_image->getFile());
                             //echo "missing1--".$temp_img_url1."====="; ?>
                                 <a class="temp_<?php echo $i;?>" href="<?php echo $temp_img_url1; ?>">
                                    <img 
                                    src="<?php echo $temp_img_url1 ?>"
                                    alt=""
                                    title="" class="easyzoom-sigleimg"/>
                               
                                
                                </a>
                                
                               
                                
                            
			</div>Easy zoom ends here-->
<!--                         <div class="item"><h4>1</h4></div>
                          <div class="item"><h4>2</h4></div>
                          <div class="item"><h4>3</h4></div>-->
                          
                        <?php// $i++; endforeach; ?>
                                                                 
                          
<!--                        <div class="item"><img 
                                    src="http://192.168.100.116/Storieshomes_meganto/media/catalog/product/cache/1/image/9df78eab33525d08d6e5fb8d27136e95/g/r/gra_copy_6.jpg"
                                    alt=""
                                    title="" class="easyzoom-sigleimg"/></div>
    <div class="item"><img 
                                    src="http://192.168.100.116/Storieshomes_meganto/media/catalog/product/cache/1/image/1200x/040ec09b1e35df139433887a97daa66f/2/4/247.jpg"
                                    alt=""
                                    title="" class="easyzoom-sigleimg"/></div>
    <div class="item"><img 
                                    src="http://192.168.100.116/Storieshomes_meganto/media/catalog/product/cache/1/image/1200x/040ec09b1e35df139433887a97daa66f/2/4/248.jpg"
                                    alt=""
                                    title="" class="easyzoom-sigleimg"/></div>
    <div class="item"><h4>4</h4></div>
    <div class="item"><h4>5</h4></div>-->
    
                        
                        
                        <!--</div>carousal--ends--here-->
   <!--------new flex slider---------->
   <div id="containerzoom" class="cf">
    

	<div id="main" role="main">
      <section class="slider">
        <div id="slider" class="flexslider">
            
          <ul class="slides">
           <?php $i=0; foreach ($this->getGalleryImages() as $_image): ?>
            <?php  $_zoom_imageUrl1 = $this->helper('catalog/image')
                                  ->init($_product, 'image', $_image->getFile())
                                 ->keepFrame(false)
                                 ->constrainOnly(true)
                                 ->resize(1200);
                                $temp_img_url1 = $this->helper('catalog/image')->init($_product, 'image',$_image->getFile()); ?>
              <li>
                       
                  <div class="easyzoom easyzoom--overlay">
                      <a class="temp_<?php echo $i;?>" href="<?php echo $_zoom_imageUrl1; ?>">
  	    	    <img style="height:428px;width:auto" src="<?php echo $temp_img_url1; ?>" />
                    </a>
                  </div> 
  	    		</li>
                    <?php $i++; endforeach; ?>
<!--                     <li class="easyzoom easyzoom--overlay">
                       <a href="example-images/images-sample-zoom.jpg">

  	    	    <img src="example-images/kitchen_adventurer_cheesecake_brownie.jpg" />
                       </a>
  	    		</li>
  	    		<li class="easyzoom easyzoom--overlay">
                            <a href="">     
  	    	    <img src="example-images/kitchen_adventurer_lemon.jpg" />
                            </a>
  	    		</li>
  	    		<li class="easyzoom easyzoom--overlay">
  	    	    <img src="example-images/kitchen_adventurer_donut.jpg" />
  	    		</li>
  	    		<li class="easyzoom easyzoom--overlay">
  	    	    <img src="example-images/kitchen_adventurer_caramel.jpg" />
  	    		</li>-->
            
          </ul>
        </div>
        <div id="carousel" class="flexslider">
          <ul class="slides">
               <?php $i=0; foreach ($this->getGalleryImages() as $_image): ?>
              <?php  $_zoom_imageUrl1 = $this->helper('catalog/image')
                                  ->init($_product, 'image', $_image->getFile())
                                 ->keepFrame(false)
                                 ->constrainOnly(true)
                                 ->resize(1200);
                                $temp_img_url1 = $this->helper('catalog/image')->init($_product, 'image',$_image->getFile()); ?>
              <li>
  	    	    <img  src="<?php echo $_zoom_imageUrl1; ?>" />
  	    		</li>
                          <?php $i++; endforeach; ?>
                <!--   <li>
  	    	    <img src="example-images/kitchen_adventurer_cheesecake_brownie.jpg" />
  	    		</li>
  	    		<li>
  	    	    <img src="example-images/kitchen_adventurer_lemon.jpg" />
  	    		</li>
  	    		<li>
  	    	    <img src="example-images/kitchen_adventurer_donut.jpg" />
  	    		</li>
  	    		<li>
  	    	    <img src="example-images/kitchen_adventurer_caramel.jpg" />
  	    		</li>-->
            
          </ul>
        </div>
      </section>
      
    </div>

  </div>
   
   <!--------new flex slider------------->
                        
<?php if (count($this->getGalleryImages()) > 0): ?>
                        
<!--			<ul class="thumbnails ">
                            <?php $i=0; foreach ($this->getGalleryImages() as $_image): ?>
                                <?php
                                $_zoom_imageUrl = $this->helper('catalog/image')
                                  ->init($_product, 'image', $_image->getFile())
                                  ->keepFrame(false)
                                  ->constrainOnly(true)
                                  ->resize(1200);
                                $temp_img_url = $this->helper('catalog/image')->init($_product, 'image',$_image->getFile()); 
                               // $temp_img_url = $this->helper('catalog/image')->init($this->getProduct(), 'thumbnail', $_image->getFile())->resize(75);
                                if (($filterClass = $this->getGalleryFilterHelper()) && ($filterMethod = $this->getGalleryFilterMethod()) && !Mage::helper($filterClass)->$filterMethod($_product, $_image)):
                                    continue;
                                endif;
                                ?>
                            
				<li class = "item themp_<?php echo $i;?>">
					<a href="<?php echo $_zoom_imageUrl; ?>" title = "<?php echo $this->escapeHtml($_image->getLabel()) ?>" data-standard="<?php echo $temp_img_url;  ?>" data-image-index="<?php echo $i; ?>">
						<img src="<?php echo $this->helper('catalog/image')->init($this->getProduct(), 'thumbnail', $_image->getFile())->resize(75); ?>" alt="<?php echo $this->escapeHtml($_image->getLabel()) ?>" />
					</a>
                                </li>
                                <?php $i++; endforeach; ?>
                                   <img src="http://www.storieshomes.com/media/catalog/product/cache/1/thumbnail/75x/9df78eab33525d08d6e5fb8d27136e95/1/3/1312_a.jpg" width="75" height="75" alt="">                              
                                
                        </ul>--></div>
                     <?php endif; ?>
			
<style type="text/css">
    
 
</style>
<!--<div id="video-popup">
    <a href="#" class="video-popup-close"></a>
    <div class="inner-video"></div>
    
</div>		-->